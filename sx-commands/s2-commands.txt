#ipv4_forward
table_add  FEC_tbl ipv4_forward 10.0.1.0/24 10.0.2.21 => 00:00:0a:00:02:15 1
table_add  FEC_tbl ipv4_forward 10.0.1.0/24 10.0.2.22 => 00:00:0a:00:02:16 2

#internal
table_add  FEC_tbl ipv4_forward 10.0.2.0/24 10.0.2.21 => 00:00:0a:00:02:15 1
table_add  FEC_tbl ipv4_forward 10.0.2.0/24 10.0.2.22 => 00:00:0a:00:02:16 2

#mpls_header
table_add  FEC_tbl mpls_ingress_3_hop 10.0.2.0/24 10.0.1.11 =>  1 1 6
table_add  FEC_tbl mpls_ingress_3_hop 10.0.2.0/24 10.0.1.12 =>  2 1 3

#mpls forward
table_add  mpls_tbl mpls_forward 3 0 => ca:a1:30:43:1d:5e 3
table_add  mpls_tbl mpls_forward 4 0 => 2e:f8:9c:32:03:9c 4
table_add  mpls_tbl penultimate 1 1 => 00:00:0a:00:02:15 1
table_add  mpls_tbl penultimate 2 1 => 00:00:0a:00:02:16 2
#mpls_function
#fire_wall

#load_balance
table_add  mpls_nfc ecmp_group 6 => 1 2
table_add  ecmp_group_to_forward mpls_forward 1 0 => ca:a1:30:43:1d:5e 3
table_add  ecmp_group_to_forward mpls_forward 1 1 => 2e:f8:9c:32:03:9c 4